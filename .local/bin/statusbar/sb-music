#!/bin/sh

[ -n "${BLOCK_BUTTON}" ] && case "${BLOCK_BUTTON}" in
    1) mpc toggle > /dev/null 2>&1 ;;
    2) mpc random > /dev/null 2>&1 ;;
    3) mpc repeat > /dev/null 2>&1 ;;
    4) mpc next > /dev/null 2>&1 ;;
    5) mpc prev > /dev/null 2>&1 ;;
	*) notify-send " " "$(printf "%s\n" "Left click   - Play/Pause current song"\
										"Middle click - Shuffle playlist"\
								 		"Right click  - Repeat current song"\
								 		"Scroll up    - Next song"\
								 		"Scroll down  - Previous song"\
										| sed -E 's/(\w* click|Scroll\ \w*)/<b><span color=\"orange\">\1<\/span><\/b>/g' || :)" ;;
esac
mpc status | grep -q "paused" && paused="P"
mpc status | grep -q "random: on" && random="S"
mpc status | grep -q "repeat: on" && repeat="R"

current=$(mpc current)
status="${paused}${random}${repeat}"
[ -n "${status}" ] && status="${status} | "
[ -n "${current}" ] && echo "${status}${current}"
